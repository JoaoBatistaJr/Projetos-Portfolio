"use strict";(()=>{var e={};e.id=902,e.ids=[902],e.modules={1520:(e,o,t)=>{t.a(e,async(e,r)=>{try{t.r(o),t.d(o,{config:()=>l,default:()=>c,routeModule:()=>d});var a=t(3480),n=t(8667),i=t(6435),s=t(7108),u=e([s]);s=(u.then?(await u)():u)[0];let c=(0,i.M)(s,"default"),l=(0,i.M)(s,"config"),d=new a.PagesAPIRouteModule({definition:{kind:n.A.PAGES_API,page:"/api/repos",pathname:"/api/repos",bundlePath:"",filename:""},userland:s});r()}catch(e){r(e)}})},3480:(e,o,t)=>{e.exports=t(5600)},3873:e=>{e.exports=require("path")},5035:e=>{e.exports=import("node-fetch")},5600:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},6435:(e,o)=>{Object.defineProperty(o,"M",{enumerable:!0,get:function(){return function e(o,t){return t in o?o[t]:"then"in o&&"function"==typeof o.then?o.then(o=>e(o,t)):"function"==typeof o&&"default"===t?o:void 0}}})},7108:(e,o,t)=>{t.a(e,async(e,r)=>{try{t.r(o),t.d(o,{default:()=>u});var a=t(9748),n=t(3873),i=t(5035),s=e([i]);i=(s.then?(await s)():s)[0];let c=n.join(process.cwd(),"repos.json");async function u(e,o){try{console.log("Lendo arquivo de cache...");let e=await (0,a.readFile)(c,"utf8").catch(()=>null);if(console.log("Cache:",e),e){let{data:t,timestamp:r}=JSON.parse(e);if(console.log("Timestamp do cache:",r),Date.now()-r<864e5)return console.log("Cache v\xe1lido, retornando dados..."),o.status(200).json(t)}console.log("Cache expirado ou inexistente, fazendo requisi\xe7\xe3o ao GitHub...");let t=await (0,i.default)("https://api.github.com/users/joaobatistajr/repos");if(!t.ok)throw Error("Erro ao buscar reposit\xf3rios");let r=await t.json(),n={data:r,timestamp:Date.now()};return console.log("Reposit\xf3rios recebidos, salvando no cache..."),await (0,a.writeFile)(c,JSON.stringify(n,null,2)),o.status(200).json(r)}catch(e){return console.error("Erro na API:",e),o.status(500).json({error:"Erro ao buscar os reposit\xf3rios"})}}r()}catch(e){r(e)}})},8667:(e,o)=>{Object.defineProperty(o,"A",{enumerable:!0,get:function(){return t}});var t=function(e){return e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE",e.IMAGE="IMAGE",e}({})},9748:e=>{e.exports=require("fs/promises")}};var o=require("../../webpack-api-runtime.js");o.C(e);var t=o(o.s=1520);module.exports=t})();